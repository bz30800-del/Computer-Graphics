<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>VR Art Gallery Experience</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  </head>
  <body>
    <a-scene>
      <a-entity camera look-controls position="0 1.6 0">
        <a-cursor
          fuse="true"
          fuse-timeout="800"
          color="#00FFFF"
          opacity="0.8"
          raycaster="objects: .interactive">
        </a-cursor>
      </a-entity>

      <!-- Gallery Floor with Pattern -->
      <a-plane
        rotation="-90 0 0"
        width="20"
        height="20"
        color="#2C3E50"
        metalness="0.3"
        roughness="0.7">
      </a-plane>

      <!-- Gallery Walls -->
      <a-box position="0 2 -8" width="20" height="4" depth="0.2" color="#34495E"></a-box>
      <a-box position="-10 2 2" width="0.2" height="4" depth="20" color="#34495E"></a-box>
      <a-box position="10 2 2" width="0.2" height="4" depth="20" color="#34495E"></a-box>

      <!-- Artwork 1: Dynamic Color Painting -->
      <a-plane
        id="artwork1"
        class="interactive"
        position="-4 2 -7.8"
        width="2"
        height="2"
        color="#FF6B6B"
        animation__hover="startEvents: mouseenter; property: scale; to: 1.1 1.1 1.1; dur: 300"
        animation__leave="startEvents: mouseleave; property: scale; to: 1 1 1; dur: 300">
      </a-plane>
      <a-box position="-4 2 -7.8" width="2.2" height="2.2" depth="0.1" color="#1C1C1C"></a-box>

      <!-- Artwork 2: Abstract Geometric -->
      <a-plane
        id="artwork2"
        class="interactive"
        position="0 2 -7.8"
        width="2"
        height="2"
        src="https://cdn.aframe.io/examples/ui/tile2.jpg"
        animation__hover="startEvents: mouseenter; property: scale; to: 1.1 1.1 1.1; dur: 300"
        animation__leave="startEvents: mouseleave; property: scale; to: 1 1 1; dur: 300">
      </a-plane>
      <a-box position="0 2 -7.8" width="2.2" height="2.2" depth="0.1" color="#1C1C1C"></a-box>

      <!-- Artwork 3: Animated Painting -->
      <a-plane
        id="artwork3"
        class="interactive"
        position="4 2 -7.8"
        width="2"
        height="2"
        color="#4ECDC4"
        animation="property: rotation; to: 0 360 0; dur: 20000; loop: true; easing: linear"
        animation__hover="startEvents: mouseenter; property: scale; to: 1.1 1.1 1.1; dur: 300"
        animation__leave="startEvents: mouseleave; property: scale; to: 1 1 1; dur: 300">
      </a-plane>
      <a-box position="4 2 -7.8" width="2.2" height="2.2" depth="0.1" color="#1C1C1C"></a-box>

      <!-- Interactive Sculptures -->
      <a-entity position="-3 1.5 -3">
        <a-torus
          id="sculpture1"
          class="interactive"
          radius="0.5"
          radius-tubular="0.1"
          color="#E74C3C"
          animation="property: rotation; to: 0 360 0; dur: 5000; loop: true; easing: linear"
          animation__hover="startEvents: mouseenter; property: scale; to: 1.3 1.3 1.3; dur: 300"
          animation__leave="startEvents: mouseleave; property: scale; to: 1 1 1; dur: 300">
        </a-torus>
      </a-entity>

      <a-entity position="3 1.5 -3" id="float-container">
        <a-octahedron
          id="sculpture2"
          class="interactive"
          radius="0.6"
          color="#9B59B6"
          metalness="0.8"
          roughness="0.2"
          animation="property: rotation; to: 360 360 0; dur: 8000; loop: true; easing: linear"
          animation__hover="startEvents: mouseenter; property: scale; to: 1.3 1.3 1.3; dur: 300"
          animation__leave="startEvents: mouseleave; property: scale; to: 1 1 1; dur: 300">
        </a-octahedron>
      </a-entity>

      <!-- Central Portal/Installation -->
      <a-entity position="0 1.5 -5">
        <a-ring
          id="portal"
          class="interactive"
          radius-inner="0.8"
          radius-outer="1"
          color="#00FFFF"
          opacity="0.7"
          animation__glow="property: opacity; to: 0.3; dur: 1500; dir: alternate; loop: true">
        </a-ring>
        <a-ring
          radius-inner="0.6"
          radius-outer="0.7"
          color="#FF00FF"
          opacity="0.5"
          animation="property: rotation; to: 0 0 360; dur: 6000; loop: true; easing: linear">
        </a-ring>
      </a-entity>

      <!-- Floating Crystals -->
      <a-entity position="-6 2 -4" id="crystal1-container">
        <a-cone
          id="crystal1"
          class="interactive"
          radius-bottom="0.3"
          radius-top="0"
          height="1.2"
          color="#3498DB"
          metalness="0.9"
          roughness="0.1"
          animation="property: rotation; to: 0 360 0; dur: 4000; loop: true; easing: linear"
          animation__hover="startEvents: mouseenter; property: scale; to: 1.2 1.2 1.2; dur: 300"
          animation__leave="startEvents: mouseleave; property: scale; to: 1 1 1; dur: 300">
        </a-cone>
      </a-entity>

      <a-entity position="6 2 -4" id="crystal2-container">
        <a-dodecahedron
          id="crystal2"
          class="interactive"
          radius="0.5"
          color="#F39C12"
          metalness="0.7"
          roughness="0.3"
          animation="property: rotation; to: 360 360 360; dur: 10000; loop: true; easing: linear"
          animation__hover="startEvents: mouseenter; property: scale; to: 1.2 1.2 1.2; dur: 300"
          animation__leave="startEvents: mouseleave; property: scale; to: 1 1 1; dur: 300">
        </a-dodecahedron>
      </a-entity>

      <!-- Floating Particles -->
      <a-entity id="particle-container" position="0 2 -5"></a-entity>

      <!-- Info Text Display -->
      <a-text
        id="info-text"
        value=""
        position="0 0.5 -2"
        align="center"
        width="3"
        color="#00FFFF"
        visible="false">
      </a-text>

      <!-- Instruction Text -->
      <a-text
        value="Gaze at objects to interact\nClick to change colors"
        position="0 3.5 -7"
        align="center"
        width="6"
        color="#ECF0F1"
        animation="property: opacity; from: 0.5; to: 1; dur: 2000; dir: alternate; loop: true">
      </a-text>

      <!-- Lighting -->
      <a-light type="ambient" color="#FFFFFF" intensity="0.4"></a-light>
      <a-light type="point" position="-5 3 -5" color="#FF6B6B" intensity="0.8"></a-light>
      <a-light type="point" position="5 3 -5" color="#4ECDC4" intensity="0.8"></a-light>
      <a-light type="point" position="0 4 -3" color="#F39C12" intensity="1"></a-light>
      <a-light type="directional" position="0 5 0" intensity="0.5"></a-light>

      <!-- Skybox with Gradient -->
      <a-sky
        color="#1a1a2e"
        animation="property: color; to: #16213e; dur: 10000; dir: alternate; loop: true">
      </a-sky>
    </a-scene>

    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const scene = document.querySelector('a-scene');
        
        scene.addEventListener('loaded', function() {
          // Color changing artwork
          const artwork1 = document.querySelector('#artwork1');
          const colors = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#FFA07A', '#98D8C8', '#F7DC6F', '#BB8FCE'];
          let colorIndex = 0;
          
          artwork1.addEventListener('click', function() {
            colorIndex = (colorIndex + 1) % colors.length;
            artwork1.setAttribute('color', colors[colorIndex]);
          });

          // Floating animation for octahedron
          const floatContainer = document.querySelector('#float-container');
          let time = 0;
          const baseY = 1.5;
          
          setInterval(function() {
            time += 0.05;
            const y = baseY + Math.sin(time) * 0.2;
            floatContainer.setAttribute('position', `3 ${y} -3`);
          }, 50);

          // Floating animation for crystals
          const crystal1Container = document.querySelector('#crystal1-container');
          const crystal2Container = document.querySelector('#crystal2-container');
          let time1 = 0;
          let time2 = Math.PI;
          
          setInterval(function() {
            time1 += 0.04;
            time2 += 0.06;
            const y1 = 2 + Math.sin(time1) * 0.2;
            const y2 = 2 + Math.sin(time2) * 0.2;
            crystal1Container.setAttribute('position', `-6 ${y1} -4`);
            crystal2Container.setAttribute('position', `6 ${y2} -4`);
          }, 50);

          // Portal effect
          const portal = document.querySelector('#portal');
          let portalActive = false;
          
          portal.addEventListener('click', function() {
            portalActive = !portalActive;
            if (portalActive) {
              portal.setAttribute('animation__spin', 'property: rotation; to: 0 720 0; dur: 4000; loop: true; easing: linear');
              portal.setAttribute('animation__pulse', 'property: scale; to: 1.5 1.5 1.5; dur: 1000; dir: alternate; loop: true');
            } else {
              portal.removeAttribute('animation__spin');
              portal.removeAttribute('animation__pulse');
              portal.setAttribute('scale', '1 1 1');
            }
          });

          // Create floating particles
          const particleContainer = document.querySelector('#particle-container');
          for (let i = 0; i < 30; i++) {
            const particle = document.createElement('a-sphere');
            particle.setAttribute('radius', '0.05');
            particle.setAttribute('color', '#FFD700');
            const x = (Math.random() - 0.5) * 4;
            const y = Math.random() * 3;
            const z = (Math.random() - 0.5) * 4;
            particle.setAttribute('position', `${x} ${y} ${z}`);
            
            const toX = (Math.random() - 0.5) * 4;
            const toY = Math.random() * 3;
            const toZ = (Math.random() - 0.5) * 4;
            const dur = 3000 + Math.random() * 2000;
            
            particle.setAttribute('animation', `property: position; to: ${toX} ${toY} ${toZ}; dur: ${dur}; loop: true; dir: alternate; easing: easeInOutSine`);
            particleContainer.appendChild(particle);
          }

          // Info display on hover
          const infoText = document.querySelector('#info-text');
          const artworks = {
            'artwork1': {title: 'Chromatic Dreams', artist: 'Digital Artist'},
            'artwork2': {title: 'Geometric Patterns', artist: 'VR Studio'},
            'artwork3': {title: 'Ocean Depths', artist: 'Wave Collective'},
            'sculpture1': {title: 'Eternal Loop', artist: 'Modern Sculptor'},
            'sculpture2': {title: 'Purple Prism', artist: 'Geometry Master'},
            'portal': {title: 'Dimensional Gateway', artist: 'Portal Collective'},
            'crystal1': {title: 'Sky Crystal', artist: 'Crystal Artist'},
            'crystal2': {title: 'Solar Dodecahedron', artist: 'Sacred Geometry'}
          };

          Object.keys(artworks).forEach(function(id) {
            const element = document.querySelector('#' + id);
            if (element) {
              element.addEventListener('mouseenter', function() {
                const info = artworks[id];
                infoText.setAttribute('value', `${info.title}\nby ${info.artist}`);
                infoText.setAttribute('visible', true);
              });
              
              element.addEventListener('mouseleave', function() {
                infoText.setAttribute('visible', false);
              });
            }
          });
        });
      });
    </script>
  </body>
</html>